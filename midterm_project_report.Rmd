---
title: "A Predictive Model for Life Expectancy"
author: "Rachel Tsong and Adina Zhang"
date: "April 7, 2019"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(caret)
```

## Introduction

The dataset for our analysis was compiled by the Global Health Observatory (GHO), a branch of the World Health Organization (WHO). The repository contains data collected from 2000 to 2015 from 193 countries about factors relating to life expectancy. These factors include mortality rates of adults as well as infants and children, economic factors such as GDP and government health expenditures, disease related data such as incidence of measles and HIV, and health related variables such as BMI and alcohol consumption. Our analysis aims to answer the following questions:

* Which covariates are most predictive of life expectancy?
* What kind of model most accurately predicts life expectancy?

The results of analyses such as ours can be used by governments to direct resources and health care expenditures on the variables that are most strongly associated with life expectancy in order to improve the populationâ€™s longevity and livelihood.

### Data Cleaning
The data was retrieved from 

## EDA

```{r, include = FALSE, message = FALSE, warning = FALSE}
# Load dataset
life_analysis = read_csv("./Life Expectancy Data.csv") %>% 
  janitor::clean_names() %>%
  select(-country, -population, -infant_deaths, -measles, -polio,
         -percentage_expenditure) %>% 
  mutate(log_gdp = log(gdp + 0.1),
         log_under_five = log(under_five_deaths + 0.1),
         status = factor(status),
         status = fct_recode(status, "0" = "Developing", "1" = "Developed"),
         status = ifelse(status == "1", 1, 0)) %>% 
  select(-gdp, -under_five_deaths)
```

```{r, echo = FALSE}
# Scatterplot
options(na.action = "na.pass")
x = model.matrix(life_expectancy ~., life_analysis)
y = life_analysis$life_expectancy

theme1 <- trellis.par.get()
theme1$plot.symbol$col <- rgb(.2, .4, .2, .5)
theme1$plot.symbol$pch <- 16
theme1$strip.background$col <- rgb(.0, .2, .6, .2)
trellis.par.set(theme1)
featurePlot(x[,-1], y, plot = "scatter", labels = c("","Life Expectancy"))
```


## Model Building

## Conclusions


\newpage

## Appendix